{% extends "base.html" %}
{% block title %}Admin/Placement Officer Dashboard - JNTU GV PLACEMENT CELL{% endblock %}
{% block content %}
<div class="container">
    <div class="dashboard-header">
        <h1>Admin/Placement Officer Dashboard</h1>
        <p>Comprehensive placement management system</p>
    </div>
    
    <!-- Quick Actions -->
    <div class="grid">
        <div class="card">
            <i class="fas fa-users-cog fa-2x mb-2" style="color: var(--primary-color);"></i>
            <h3>Management Dashboard</h3>
            <p>Manage students, recruiters, and analytics</p>
            <a href="{{ url_for('admin_management') }}" class="btn primary mt-2">Access Management</a>
        </div>
        <div class="card">
            <i class="fas fa-users fa-2x mb-2" style="color: var(--secondary-color);"></i>
            <h3>Manage Students</h3>
            <p>View and manage all student registrations</p>
            <a href="{{ url_for('admin_students') }}" class="btn secondary mt-2">Manage</a>
        </div>
        <div class="card">
            <i class="fas fa-user-tie fa-2x mb-2" style="color: var(--accent-color);"></i>
            <h3>Manage Recruiters</h3>
            <p>View and manage all recruiter accounts</p>
            <a href="{{ url_for('admin_recruiters') }}" class="btn secondary mt-2">Manage Recruiters</a>
        </div>
        <div class="card">
            <i class="fas fa-chart-pie fa-2x mb-2" style="color: var(--accent-color);"></i>
            <h3>Analytics</h3>
            <p>View comprehensive reports and statistics</p>
            <a href="{{ url_for('admin_analytics') }}" class="btn secondary mt-2">View Analytics</a>
        </div>
    </div>
    
    <!-- Statistics -->
    <div class="stats-grid">
        <div class="stat-card">
            <h3><span data-target="{{ total_students }}">0</span></h3>
            <p>Total Students</p>
        </div>
        <div class="stat-card">
            <h3><span data-target="{{ placed_students }}">0</span></h3>
            <p>Placed Students</p>
        </div>
        <div class="stat-card">
            <h3>{{ placement_rate }}%</h3>
            <p>Placement Rate</p>
        </div>
        <div class="stat-card">
            <h3><span data-target="{{ total_students - placed_students }}">0</span></h3>
            <p>Pending Placements</p>
        </div>
    </div>
    
    <!-- Export Button -->
    <div class="export-section" style="text-align: center; margin: 30px 0;">
        <a href="{{ url_for('admin_export_report') }}" class="btn primary" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 12px 30px; border-radius: 25px; text-decoration: none; display: inline-block; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);">
            <i class="fas fa-download"></i> Export Placement Report
        </a>
    </div>
    
    <!-- Department-wise Statistics -->
    {% if dept_stats %}
    <div class="department-stats">
        <h2>Department-wise Statistics</h2>
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>Department</th>
                        <th>Total Students</th>
                        <th>Placed Students</th>
                        <th>Placement Rate</th>
                        <th>Average GPA</th>
                    </tr>
                </thead>
                <tbody>
                    {% for dept, stats in dept_stats.items() %}
                    <tr>
                        <td><strong>{{ dept }}</strong></td>
                        <td>{{ stats.total }}</td>
                        <td>
                            <span class="badge bg-success">{{ stats.placed }}</span>
                        </td>
                        <td>
                            <div class="progress" style="height: 20px;">
                                <div class="progress-bar bg-success" role="progressbar" 
                                     style="width: {{ stats.placement_rate }}%"
                                     aria-valuenow="{{ stats.placement_rate }}" 
                                     aria-valuemin="0" aria-valuemax="100">
                                    {{ stats.placement_rate }}%
                                </div>
                            </div>
                        </td>
                        <td>
                            <span class="badge bg-info">{{ stats.avg_gpa }}</span>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    {% endif %}
    
    <!-- Admin Functions -->
    <div class="grid">
        <div class="card">
            <h2>Student Management</h2>
            <ul style="text-align: left; list-style: none;">
                <li style="padding: 0.5rem 0;"><i class="fas fa-check-circle" style="color: var(--success-color);"></i> Manage student registrations</li>
                <li style="padding: 0.5rem 0;"><i class="fas fa-check-circle" style="color: var(--success-color);"></i> Verify submitted profiles</li>
                <li style="padding: 0.5rem 0;"><i class="fas fa-check-circle" style="color: var(--success-color);"></i> Update placement status</li>
                <li style="padding: 0.5rem 0;"><i class="fas fa-check-circle" style="color: var(--success-color);"></i> Track student offers</li>
            </ul>
            <a href="{{ url_for('admin_students') }}" class="btn primary mt-2">View Students</a>
        </div>
        
        <div class="card">
            <h2>Reports & Analytics</h2>
            <ul style="text-align: left; list-style: none;">
                <li style="padding: 0.5rem 0;"><i class="fas fa-chart-bar" style="color: var(--primary-color);"></i> Department-wise reports</li>
                <li style="padding: 0.5rem 0;"><i class="fas fa-chart-bar" style="color: var(--primary-color);"></i> Skill-based analysis</li>
                <li style="padding: 0.5rem 0;"><i class="fas fa-chart-bar" style="color: var(--primary-color);"></i> Placement statistics</li>
                <li style="padding: 0.5rem 0;"><i class="fas fa-chart-bar" style="color: var(--primary-color);"></i> Eligibility reports</li>
            </ul>
            <a href="{{ url_for('admin_students') }}" class="btn primary mt-2">Generate Reports</a>
        </div>
        
        <div class="card">
            <h2>Data Sharing</h2>
            <ul style="text-align: left; list-style: none;">
                <li style="padding: 0.5rem 0;"><i class="fas fa-share-alt" style="color: var(--secondary-color);"></i> Share with consultancies</li>
                <li style="padding: 0.5rem 0;"><i class="fas fa-share-alt" style="color: var(--secondary-color);"></i> Export student data</li>
                <li style="padding: 0.5rem 0;"><i class="fas fa-share-alt" style="color: var(--secondary-color);"></i> Structured profiles</li>
                <li style="padding: 0.5rem 0;"><i class="fas fa-share-alt" style="color: var(--secondary-color);"></i> Quality insights</li>
            </ul>
            <a href="#" class="btn secondary mt-2">Share Data</a>
        </div>
    </div>
    
    <!-- Recent Activity -->
    <div class="card">
        <h2>Recent Activity</h2>
        <div class="activity-feed">
            <div class="activity-item">
                <i class="fas fa-user-plus activity-icon"></i>
                <div class="activity-content">
                    <p><strong>New Registration</strong></p>
                    <small>Student registered on the portal</small>
                </div>
            </div>
            <div class="activity-item">
                <i class="fas fa-check-circle activity-icon" style="background: var(--success-color);"></i>
                <div class="activity-content">
                    <p><strong>Profile Verified</strong></p>
                    <small>Student profile was verified</small>
                </div>
            </div>
            <div class="activity-item">
                <i class="fas fa-briefcase activity-icon" style="background: var(--primary-color);"></i>
                <div class="activity-content">
                    <p><strong>Placement Updated</strong></p>
                    <small>Student marked as placed</small>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}